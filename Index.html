<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movimiento del Personaje</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            margin: 0;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
       
        .selector {
            position: absolute;
            top: 10px;
            left: 10px;
        }
        #startButton {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
    </style>
</head>
<body>
    <div id="personaje1" class="personaje" style="left: 750px; top: 147px;"></div>
    <div id="personaje2" class="personaje" style="left: 850px; top: 147px;"></div>
    <div id="personaje3" class="personaje" style="left: 950px; top: 147px;"></div>
    <div id="personaje4" class="personaje" style="left: 1050px; top: 147px;"></div>

    <div class="selector" id="selector">
        <button onclick="seleccionarPersonaje('personaje1')">Seleccionar Personaje 1</button>
        <button onclick="seleccionarPersonaje('personaje2')">Seleccionar Personaje 2</button>
        <button onclick="seleccionarPersonaje('personaje3')">Seleccionar Personaje 3</button>
        <button onclick="seleccionarPersonaje('personaje4')">Seleccionar Personaje 4</button>
    </div>

    <button id="startButton" onclick="iniciarJuego()">Start Game</button>

    <script>
        var posLeft = 750;
        var posTop = 147;
        var personajeSeleccionado = null;
        var distancia = 5;

        document.getElementById('personaje1').style.display = 'none';
        document.getElementById('personaje2').style.display = 'none';
        document.getElementById('personaje3').style.display = 'none';
        document.getElementById('personaje4').style.display = 'none';
        document.getElementById('selector').style.display = 'none';

        function iniciarJuego() {
            document.getElementById('personaje1').style.display = 'block';
            document.getElementById('personaje2').style.display = 'block';
            document.getElementById('personaje3').style.display = 'block';
            document.getElementById('personaje4').style.display = 'block';
            document.getElementById('selector').style.display = 'block';
            document.getElementById('startButton').style.display = 'none';
        }

        function seleccionarPersonaje(id) {
            personajeSeleccionado = document.getElementById(id);
            posLeft = parseInt(personajeSeleccionado.style.left);
            posTop = parseInt(personajeSeleccionado.style.top);
            alert('Personaje ' + id + ' seleccionado!');
        }

        function estaOcupado(nuevaPosLeft, nuevaPosTop) {
            var personajes = document.getElementsByClassName('personaje');
            for (var i = 0; i < personajes.length; i++) {
                var personaje = personajes[i];
                if (personaje !== personajeSeleccionado) {
                    var personajeLeft = parseInt(personaje.style.left);
                    var personajeTop = parseInt(personaje.style.top);

                    if (nuevaPosLeft < personajeLeft + 50 && nuevaPosLeft + 50 > personajeLeft &&
                        nuevaPosTop < personajeTop + 50 && nuevaPosTop + 50 > personajeTop) {
                        return true;
                    }
                }
            }
            return false;
        }

        document.onkeydown = function(evento) {
            if (!personajeSeleccionado) return;

            var nuevaPosLeft = posLeft;
            var nuevaPosTop = posTop;

            var screenWidth = window.innerWidth;
            var screenHeight = window.innerHeight;
            var characterSize = 50; 

            switch(evento.keyCode) {
                case 37:
                    if (posLeft - distancia >= 0) {
                        nuevaPosLeft = posLeft - distancia;
                    }
                    break;
                case 38:
                    if (posTop - distancia >= 0) {
                        nuevaPosTop = posTop - distancia;
                    }
                    break;
                case 39:
                    if (posLeft + distancia + characterSize <= screenWidth) {
                        nuevaPosLeft = posLeft + distancia;
                    }
                    break;
                case 40:
                    if (posTop + distancia + characterSize <= screenHeight) {
                        nuevaPosTop = posTop + distancia;
                    }
                    break;
            }

            if (!estaOcupado(nuevaPosLeft, nuevaPosTop)) {
                posLeft = nuevaPosLeft;
                posTop = nuevaPosTop;
                personajeSeleccionado.style.left = posLeft + 'px';
                personajeSeleccionado.style.top = posTop + 'px';
            }
        };
    </script>
</body>
</html>
